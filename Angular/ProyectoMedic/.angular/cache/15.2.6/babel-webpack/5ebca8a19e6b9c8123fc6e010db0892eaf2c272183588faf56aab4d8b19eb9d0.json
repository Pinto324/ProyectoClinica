{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction MenuPorcentajesAdminComponent_h2_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h2\");\n    i0.ɵɵtext(1, \"Porcentaje de ex\\u00E1menes:\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MenuPorcentajesAdminComponent_h2_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h2\");\n    i0.ɵɵtext(1, \"Porcentaje de especialidades:\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MenuPorcentajesAdminComponent_tr_23_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\")(8, \"input\", 6);\n    i0.ɵɵlistener(\"ngModelChange\", function MenuPorcentajesAdminComponent_tr_23_Template_input_ngModelChange_8_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const e_r3 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(e_r3.NuevoPorcentaje = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"td\")(10, \"button\", 7);\n    i0.ɵɵlistener(\"click\", function MenuPorcentajesAdminComponent_tr_23_Template_button_click_10_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const e_r3 = restoredCtx.$implicit;\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.editarEspecialidad(e_r3));\n    });\n    i0.ɵɵtext(11, \"Guardar\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const e_r3 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(e_r3.IdExamen);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(e_r3.Nombre);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(e_r3.Porcentaje);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", e_r3.NuevoPorcentaje);\n  }\n}\nexport class MenuPorcentajesAdminComponent {\n  constructor(http) {\n    this.http = http;\n    this.mostrarExamen = false;\n    this.mostrarEspecialidad = false;\n    this.mostrarTodo = false;\n    this.info = [];\n    this.tabla = [];\n  }\n  //get de examenes\n  getExamenes() {\n    const url = 'http://localhost:8080/Proyecto2Clinica/ControladorPorcentajes?accion=PorcentajeExamenes';\n    return this.http.get(url);\n  }\n  CargarExamenes() {\n    this.getExamenes().subscribe(examenes => {\n      this.tabla = examenes;\n      this.CerrarTodo();\n      for (let i = 0; i < this.tabla.length; i += 5) {\n        this.info.push({\n          Id: this.tabla[i],\n          IdExamen: this.tabla[i + 1],\n          Nombre: this.tabla[i + 2],\n          Porcentaje: this.tabla[i + 3],\n          NuevoPorcentaje: 0\n        });\n      }\n      this.mostrarTodo = true;\n      this.mostrarExamen = true;\n    });\n  }\n  //metodo para editar el porcentaje de especialidad:\n  editarEspecialidad(especialidad) {\n    if (this.ComprobarNumero(parseInt(especialidad.NuevoPorcentaje))) {\n      const idEspecialidad = especialidad.Id;\n      const precio = parseInt(especialidad.NuevoPorcentaje) / 100;\n      const body = {\n        Precio: precio\n      };\n      this.http.put(`http://localhost:8080/Proyecto2Clinica/ControladorPorcentajes?accion=NuevoPorcentaje&IdEM=${idEspecialidad}&Porcentaje=${precio}`, body).subscribe(response => {\n        console.log(response);\n        alert('Porcentaje editado correctamente.');\n        this.CargarExamenes();\n        // Actualizar la lista de especialidades agregadas\n      }, error => {\n        if (error.status === 400) {\n          alert('Error al editar la especialidad: el ID ingresado no es válido.');\n        } else {\n          alert('Error al editar la especialidad');\n        }\n      });\n    }\n  }\n  //utilidades\n  ComprobarNumero(nuevo) {\n    if (nuevo > 0 && nuevo <= 100) {\n      return true;\n    } else {\n      alert(\"Ingrese un número de porcentaje valido\");\n      return false;\n    }\n  }\n  CerrarTodo() {\n    this.mostrarEspecialidad = false;\n    this.mostrarExamen = false;\n    this.mostrarTodo = false;\n  }\n}\nMenuPorcentajesAdminComponent.ɵfac = function MenuPorcentajesAdminComponent_Factory(t) {\n  return new (t || MenuPorcentajesAdminComponent)(i0.ɵɵdirectiveInject(i1.HttpClient));\n};\nMenuPorcentajesAdminComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: MenuPorcentajesAdminComponent,\n  selectors: [[\"app-menu-porcentajes-admin\"]],\n  decls: 24,\n  vars: 3,\n  consts: [[1, \"contenedorPrincipal\"], [\"id\", \"divArriba\"], [\"type\", \"button\", 3, \"click\"], [1, \"principal\"], [4, \"ngIf\"], [4, \"ngFor\", \"ngForOf\"], [\"type\", \"number\", \"min\", \"1\", \"max\", \"100\", 1, \"Edit\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", 3, \"click\"]],\n  template: function MenuPorcentajesAdminComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"button\", 2);\n      i0.ɵɵlistener(\"click\", function MenuPorcentajesAdminComponent_Template_button_click_2_listener() {\n        return ctx.TablaDeExamanes();\n      });\n      i0.ɵɵtext(3, \"Porcentajes de especialidades\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"button\", 2);\n      i0.ɵɵlistener(\"click\", function MenuPorcentajesAdminComponent_Template_button_click_4_listener() {\n        return ctx.CargarExamenes();\n      });\n      i0.ɵɵtext(5, \"Porcentajes de ex\\u00E1menes\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(6, \"div\", 3);\n      i0.ɵɵtemplate(7, MenuPorcentajesAdminComponent_h2_7_Template, 2, 0, \"h2\", 4);\n      i0.ɵɵtemplate(8, MenuPorcentajesAdminComponent_h2_8_Template, 2, 0, \"h2\", 4);\n      i0.ɵɵelementStart(9, \"table\")(10, \"thead\")(11, \"tr\")(12, \"th\");\n      i0.ɵɵtext(13, \"Id\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"th\");\n      i0.ɵɵtext(15, \"Nombre\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"th\");\n      i0.ɵɵtext(17, \"Porcentaje actual\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"th\");\n      i0.ɵɵtext(19, \"Nuevo Porcentaje\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"th\");\n      i0.ɵɵtext(21, \"Guardar\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(22, \"tbody\");\n      i0.ɵɵtemplate(23, MenuPorcentajesAdminComponent_tr_23_Template, 12, 4, \"tr\", 5);\n      i0.ɵɵelementEnd()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngIf\", ctx.mostrarExamen);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.mostrarEspecialidad);\n      i0.ɵɵadvance(15);\n      i0.ɵɵproperty(\"ngForOf\", ctx.info);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i3.DefaultValueAccessor, i3.NumberValueAccessor, i3.NgControlStatus, i3.MinValidator, i3.MaxValidator, i3.NgModel],\n  styles: [\"a[_ngcontent-%COMP%]{\\r\\n    text-decoration: none;\\r\\n}\\r\\nlabel[_ngcontent-%COMP%]{\\r\\n    font-size: xx-large;\\r\\n}\\r\\nselect[_ngcontent-%COMP%]{\\r\\n    padding: 10px;\\r\\n    margin-bottom: 20px;\\r\\n    width: 100%;\\r\\n    border: 1px solid #ccc;\\r\\n    border-radius: 5px;\\r\\n    border: 2px solid black;\\r\\n}\\r\\ninput[_ngcontent-%COMP%]{\\r\\n    padding: 5px;\\r\\n    margin-bottom: 10px;\\r\\n    width: 50%;\\r\\n    border-radius: 5px;\\r\\n    border: 2px solid black;\\r\\n}\\r\\nbutton[_ngcontent-%COMP%] {\\r\\n    padding: 10px 20px;\\r\\n    border: none;\\r\\n    border-radius: 5px;\\r\\n    color: #000000;\\r\\n    cursor: pointer;\\r\\n    transition: all 0.3s ease;\\r\\n    background-color: rgb(246, 255, 123);\\r\\n    border: 2px solid black;\\r\\n  }\\r\\n.form-group[_ngcontent-%COMP%]{\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    align-items: center;\\r\\n    padding-left: 10px;\\r\\n    padding-right: 10px;\\r\\n    justify-content: space-between;\\r\\n}\\r\\ntable[_ngcontent-%COMP%] {\\r\\n    width: 100%;\\r\\n    border-collapse: collapse;\\r\\n    margin-bottom: 20px;\\r\\n  }\\r\\n  \\r\\n  th[_ngcontent-%COMP%], td[_ngcontent-%COMP%] {\\r\\n    padding: 10px;\\r\\n    text-align: left;\\r\\n    border-bottom: 1px solid #ddd;\\r\\n    border: 2px solid black;\\r\\n  }\\r\\n  \\r\\n  th[_ngcontent-%COMP%] {\\r\\n    font-weight: bold;\\r\\n    background-color: #fdcc8df4;\\r\\n  }\\r\\n  tr[_ngcontent-%COMP%]{\\r\\n    background-color: #f5f5f5;\\r\\n  }\\r\\n  tr[_ngcontent-%COMP%]:hover {\\r\\n    background-color: #949393;\\r\\n  }\\r\\n  \\r\\n  #principal[_ngcontent-%COMP%]{\\r\\n    display: flex;\\r\\n    justify-content: center;\\r\\n    flex-direction: column;\\r\\n    align-items: center;\\r\\n    text-align: center;    \\r\\n    background-color: #fdcc8df4;\\r\\n    border: 5px solid black;\\r\\n  }\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvQ29tcG9uZW50ZXMvaG9tZS1hZG1pbi9tZW51LXBvcmNlbnRhamVzLWFkbWluL21lbnUtcG9yY2VudGFqZXMtYWRtaW4uY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLHFCQUFxQjtBQUN6QjtBQUNBO0lBQ0ksbUJBQW1CO0FBQ3ZCO0FBQ0E7SUFDSSxhQUFhO0lBQ2IsbUJBQW1CO0lBQ25CLFdBQVc7SUFDWCxzQkFBc0I7SUFDdEIsa0JBQWtCO0lBQ2xCLHVCQUF1QjtBQUMzQjtBQUNBO0lBQ0ksWUFBWTtJQUNaLG1CQUFtQjtJQUNuQixVQUFVO0lBQ1Ysa0JBQWtCO0lBQ2xCLHVCQUF1QjtBQUMzQjtBQUNBO0lBQ0ksa0JBQWtCO0lBQ2xCLFlBQVk7SUFDWixrQkFBa0I7SUFDbEIsY0FBYztJQUNkLGVBQWU7SUFDZix5QkFBeUI7SUFDekIsb0NBQW9DO0lBQ3BDLHVCQUF1QjtFQUN6QjtBQUNGO0lBQ0ksYUFBYTtJQUNiLHNCQUFzQjtJQUN0QixtQkFBbUI7SUFDbkIsa0JBQWtCO0lBQ2xCLG1CQUFtQjtJQUNuQiw4QkFBOEI7QUFDbEM7QUFDQTtJQUNJLFdBQVc7SUFDWCx5QkFBeUI7SUFDekIsbUJBQW1CO0VBQ3JCOztFQUVBO0lBQ0UsYUFBYTtJQUNiLGdCQUFnQjtJQUNoQiw2QkFBNkI7SUFDN0IsdUJBQXVCO0VBQ3pCOztFQUVBO0lBQ0UsaUJBQWlCO0lBQ2pCLDJCQUEyQjtFQUM3QjtFQUNBO0lBQ0UseUJBQXlCO0VBQzNCO0VBQ0E7SUFDRSx5QkFBeUI7RUFDM0I7O0VBRUE7SUFDRSxhQUFhO0lBQ2IsdUJBQXVCO0lBQ3ZCLHNCQUFzQjtJQUN0QixtQkFBbUI7SUFDbkIsa0JBQWtCO0lBQ2xCLDJCQUEyQjtJQUMzQix1QkFBdUI7RUFDekIiLCJzb3VyY2VzQ29udGVudCI6WyJhe1xyXG4gICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xyXG59XHJcbmxhYmVse1xyXG4gICAgZm9udC1zaXplOiB4eC1sYXJnZTtcclxufVxyXG5zZWxlY3R7XHJcbiAgICBwYWRkaW5nOiAxMHB4O1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMjBweDtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgI2NjYztcclxuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICAgIGJvcmRlcjogMnB4IHNvbGlkIGJsYWNrO1xyXG59XHJcbmlucHV0e1xyXG4gICAgcGFkZGluZzogNXB4O1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMTBweDtcclxuICAgIHdpZHRoOiA1MCU7XHJcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbiAgICBib3JkZXI6IDJweCBzb2xpZCBibGFjaztcclxufVxyXG5idXR0b24ge1xyXG4gICAgcGFkZGluZzogMTBweCAyMHB4O1xyXG4gICAgYm9yZGVyOiBub25lO1xyXG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG4gICAgY29sb3I6ICMwMDAwMDA7XHJcbiAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICB0cmFuc2l0aW9uOiBhbGwgMC4zcyBlYXNlO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDI0NiwgMjU1LCAxMjMpO1xyXG4gICAgYm9yZGVyOiAycHggc29saWQgYmxhY2s7XHJcbiAgfVxyXG4uZm9ybS1ncm91cHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIHBhZGRpbmctbGVmdDogMTBweDtcclxuICAgIHBhZGRpbmctcmlnaHQ6IDEwcHg7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XHJcbn1cclxudGFibGUge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlO1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMjBweDtcclxuICB9XHJcbiAgXHJcbiAgdGgsIHRkIHtcclxuICAgIHBhZGRpbmc6IDEwcHg7XHJcbiAgICB0ZXh0LWFsaWduOiBsZWZ0O1xyXG4gICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNkZGQ7XHJcbiAgICBib3JkZXI6IDJweCBzb2xpZCBibGFjaztcclxuICB9XHJcbiAgXHJcbiAgdGgge1xyXG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmRjYzhkZjQ7XHJcbiAgfVxyXG4gIHRye1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2Y1ZjVmNTtcclxuICB9XHJcbiAgdHI6aG92ZXIge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzk0OTM5MztcclxuICB9XHJcbiAgXHJcbiAgI3ByaW5jaXBhbHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyOyAgICBcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNmZGNjOGRmNDtcclxuICAgIGJvcmRlcjogNXB4IHNvbGlkIGJsYWNrO1xyXG4gIH1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;;IAMQA,0BAA0B;IAAAA,4CAAuB;IAAAA,iBAAK;;;;;IACtDA,0BAAgC;IAAAA,6CAA6B;IAAAA,iBAAK;;;;;;IAY9DA,0BAA2B;IACrBA,YAAgB;IAAAA,iBAAK;IACzBA,0BAAI;IAAAA,YAAc;IAAAA,iBAAK;IACvBA,0BAAI;IAAAA,YAAkB;IAAAA,iBAAK;IAC3BA,0BAAI;IAAkCA;MAAA;MAAA;MAAA,OAAaA,6CAAyB;IAAA,EAAP;IAAjEA,iBAAmF;IACvFA,0BAAI;IAA8CA;MAAA;MAAA;MAAA;MAAA,OAASA,8CAAqB;IAAA,EAAC;IAACA,wBAAO;IAAAA,iBAAS;;;;IAJ9FA,eAAgB;IAAhBA,mCAAgB;IAChBA,eAAc;IAAdA,iCAAc;IACdA,eAAkB;IAAlBA,qCAAkB;IACgBA,eAA+B;IAA/BA,8CAA+B;;;AChBnF,OAAM,MAAOC,6BAA6B;EAMxCC,YAAoBC,IAAgB;IAAhB,SAAI,GAAJA,IAAI;IALd,kBAAa,GAAG,KAAK;IACrB,wBAAmB,GAAG,KAAK;IAC3B,gBAAW,GAAG,KAAK;IACnB,SAAI,GAAkG,EAAE;IACxG,UAAK,GAAU,EAAE;EACa;EACxC;EACAC,WAAW;IACT,MAAMC,GAAG,GAAG,yFAAyF;IACrG,OAAO,IAAI,CAACF,IAAI,CAACG,GAAG,CAAQD,GAAG,CAAC;EAClC;EACAE,cAAc;IACZ,IAAI,CAACH,WAAW,EAAE,CAACI,SAAS,CAACC,QAAQ,IAAG;MACtC,IAAI,CAACC,KAAK,GAAGD,QAAQ;MACrB,IAAI,CAACE,UAAU,EAAE;MACjB,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACF,KAAK,CAACG,MAAM,EAAED,CAAC,IAAI,CAAC,EAAE;QAC7C,IAAI,CAACE,IAAI,CAACC,IAAI,CAAC;UACbC,EAAE,EAAE,IAAI,CAACN,KAAK,CAACE,CAAC,CAAC;UACjBK,QAAQ,EAAE,IAAI,CAACP,KAAK,CAACE,CAAC,GAAG,CAAC,CAAC;UAC3BM,MAAM,EAAE,IAAI,CAACR,KAAK,CAACE,CAAC,GAAG,CAAC,CAAC;UACzBO,UAAU,EAAE,IAAI,CAACT,KAAK,CAACE,CAAC,GAAG,CAAC,CAAC;UAC7BQ,eAAe,EAAE;SAClB,CAAC;;MAEJ,IAAI,CAACC,WAAW,GAAG,IAAI;MACvB,IAAI,CAACC,aAAa,GAAG,IAAI;IAC3B,CAAC,CAAC;EACJ;EAEA;EACEC,kBAAkB,CAACC,YAAgB;IACjC,IAAG,IAAI,CAACC,eAAe,CAACC,QAAQ,CAACF,YAAY,CAACJ,eAAe,CAAC,CAAC,EAAC;MAC9D,MAAMO,cAAc,GAAGH,YAAY,CAACR,EAAE;MACtC,MAAMY,MAAM,GAAIF,QAAQ,CAACF,YAAY,CAACJ,eAAe,CAAC,GAAC,GAAI;MAC3D,MAAMS,IAAI,GAAG;QAAEC,MAAM,EAAEF;MAAM,CAAE;MAC/B,IAAI,CAACzB,IAAI,CAAC4B,GAAG,CAAC,6FAA6FJ,cAAc,eAAeC,MAAM,EAAE,EAAEC,IAAI,CAAC,CAACrB,SAAS,CAC/JwB,QAAQ,IAAG;QACTC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAAC;QACrBG,KAAK,CAAC,mCAAmC,CAAC;QAC1C,IAAI,CAAC5B,cAAc,EAAE;QACrB;MACF,CAAC,EACD6B,KAAK,IAAG;QACN,IAAIA,KAAK,CAACC,MAAM,KAAK,GAAG,EAAE;UACxBF,KAAK,CAAC,gEAAgE,CAAC;SACxE,MAAM;UACLA,KAAK,CAAC,iCAAiC,CAAC;;MAE5C,CAAC,CACF;;EAEJ;EAEA;EACAV,eAAe,CAACa,KAAa;IAC5B,IAAGA,KAAK,GAAC,CAAC,IAAIA,KAAK,IAAE,GAAG,EAAC;MACvB,OAAO,IAAI;KACZ,MAAI;MACHH,KAAK,CAAC,wCAAwC,CAAC;MAC/C,OAAO,KAAK;;EAEf;EACAxB,UAAU;IACT,IAAI,CAAC4B,mBAAmB,GAAG,KAAK;IAChC,IAAI,CAACjB,aAAa,GAAG,KAAK;IAC1B,IAAI,CAACD,WAAW,GAAG,KAAK;EACzB;;AAnEQpB,6BAA6B;mBAA7BA,6BAA6B;AAAA;AAA7BA,6BAA6B;QAA7BA,6BAA6B;EAAAuC;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDP1C5C,8BAAiC;MAEjBA;QAAA,OAAW6C,qBAAiB;MAAA;MAAgB7C,6CAA6B;MAAAA,iBAAS;MAC1FA,iCAAkD;MAA1CA;QAAA,OAAS6C,oBAAgB;MAAA,EAAC;MAAgB7C,4CAAuB;MAAAA,iBAAS;MAEtFA,8BAAuB;MACnBA,4EAAsD;MACtDA,4EAAkE;MAClEA,6BAAO;MAGGA,mBAAE;MAAAA,iBAAK;MACXA,2BAAI;MAAAA,uBAAM;MAAAA,iBAAK;MACfA,2BAAI;MAAAA,kCAAiB;MAAAA,iBAAK;MAC1BA,2BAAI;MAAAA,iCAAgB;MAAAA,iBAAK;MACzBA,2BAAI;MAAAA,wBAAO;MAAAA,iBAAK;MAGpBA,8BAAO;MACLA,+EAMK;MACPA,iBAAQ;;;MApBLA,eAAmB;MAAnBA,wCAAmB;MACnBA,eAAyB;MAAzBA,8CAAyB;MAYRA,gBAAO;MAAPA,kCAAO","names":["i0","MenuPorcentajesAdminComponent","constructor","http","getExamenes","url","get","CargarExamenes","subscribe","examenes","tabla","CerrarTodo","i","length","info","push","Id","IdExamen","Nombre","Porcentaje","NuevoPorcentaje","mostrarTodo","mostrarExamen","editarEspecialidad","especialidad","ComprobarNumero","parseInt","idEspecialidad","precio","body","Precio","put","response","console","log","alert","error","status","nuevo","mostrarEspecialidad","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\branp\\Documents\\NetBeansProjects\\Proyecto2Clinica\\Angular\\ProyectoMedic\\src\\app\\Componentes\\home-admin\\menu-porcentajes-admin\\menu-porcentajes-admin.component.html","C:\\Users\\branp\\Documents\\NetBeansProjects\\Proyecto2Clinica\\Angular\\ProyectoMedic\\src\\app\\Componentes\\home-admin\\menu-porcentajes-admin\\menu-porcentajes-admin.component.ts"],"sourcesContent":["<div class=\"contenedorPrincipal\">\n    <div id=\"divArriba\">\n        <button (click)=\" TablaDeExamanes()\"  type=\"button\">Porcentajes de especialidades</button>\n        <button (click)=\"CargarExamenes()\"  type=\"button\">Porcentajes de exámenes</button>\n    </div>\n    <div class=\"principal\">\n        <h2 *ngIf=\"mostrarExamen\">Porcentaje de exámenes:</h2>\n        <h2 *ngIf=\"mostrarEspecialidad\">Porcentaje de especialidades:</h2>\n        <table>\n          <thead>\n            <tr>\n              <th>Id</th>\n              <th>Nombre</th>\n              <th>Porcentaje actual</th>\n              <th>Nuevo Porcentaje</th>\n              <th>Guardar</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr *ngFor=\"let e of info\">\n              <td>{{ e.IdExamen }}</td>\n              <td>{{ e.Nombre }}</td>\n              <td>{{ e.Porcentaje }}</td>\n              <td><input class=\"Edit\" type=\"number\" [(ngModel)]=\"e.NuevoPorcentaje\"min=\"1\" max=\"100\"></td>\n              <td><button type=\"button\" class=\"btn btn-primary\" (click)=\"editarEspecialidad(e)\">Guardar</button></td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n</div>","import { Component } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\n@Component({\n  selector: 'app-menu-porcentajes-admin',\n  templateUrl: './menu-porcentajes-admin.component.html',\n  styleUrls: ['./menu-porcentajes-admin.component.css']\n})\nexport class MenuPorcentajesAdminComponent {\n  protected mostrarExamen = false;\n  protected mostrarEspecialidad = false;\n  protected mostrarTodo = false;\n  protected info: {Id: string, IdExamen: string ,Nombre: string, Porcentaje: string, NuevoPorcentaje: number}[] = [];\n  protected tabla: any[] = [];\n  constructor(private http: HttpClient) { }\n  //get de examenes\n  getExamenes() {\n    const url = 'http://localhost:8080/Proyecto2Clinica/ControladorPorcentajes?accion=PorcentajeExamenes';\n    return this.http.get<any[]>(url);\n  }\n  CargarExamenes(){\n    this.getExamenes().subscribe(examenes => {\n      this.tabla = examenes;\n      this.CerrarTodo();\n      for (let i = 0; i < this.tabla.length; i += 5) {\n        this.info.push({\n          Id: this.tabla[i],\n          IdExamen: this.tabla[i + 1],\n          Nombre: this.tabla[i + 2],\n          Porcentaje: this.tabla[i + 3],\n          NuevoPorcentaje: 0\n        });\n      }\n      this.mostrarTodo = true;\n      this.mostrarExamen = true;\n    });\n  }\n\n  //metodo para editar el porcentaje de especialidad:\n    editarEspecialidad(especialidad:any) {\n      if(this.ComprobarNumero(parseInt(especialidad.NuevoPorcentaje))){\n        const idEspecialidad = especialidad.Id;\n        const precio = (parseInt(especialidad.NuevoPorcentaje)/100);\n        const body = { Precio: precio };\n        this.http.put(`http://localhost:8080/Proyecto2Clinica/ControladorPorcentajes?accion=NuevoPorcentaje&IdEM=${idEspecialidad}&Porcentaje=${precio}`, body).subscribe(\n          response => {\n            console.log(response);\n            alert('Porcentaje editado correctamente.');\n            this.CargarExamenes();\n            // Actualizar la lista de especialidades agregadas\n          },\n          error => {\n            if (error.status === 400) {\n              alert('Error al editar la especialidad: el ID ingresado no es válido.');\n            } else {\n              alert('Error al editar la especialidad');\n            }\n          }\n        );\n      }\n     }\n\n     //utilidades\n     ComprobarNumero(nuevo: number):boolean{\n      if(nuevo>0 && nuevo<=100){\n        return true;\n      }else{\n        alert(\"Ingrese un número de porcentaje valido\");\n        return false;\n      }\n     }\n     CerrarTodo(){\n      this.mostrarEspecialidad = false;\n      this.mostrarExamen = false;\n      this.mostrarTodo = false;\n     }\n    }\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}