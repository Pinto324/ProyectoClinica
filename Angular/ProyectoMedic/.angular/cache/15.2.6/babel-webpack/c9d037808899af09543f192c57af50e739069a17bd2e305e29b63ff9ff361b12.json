{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"../../../../Services/user\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction MenuExamenesComponent_option_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 9);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const Examenes_r2 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", Examenes_r2.idTipoDeExamenes);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(Examenes_r2.nombreExamen);\n  }\n}\nfunction MenuExamenesComponent_ng_container_31_ng_container_1_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const j_r8 = ctx.index;\n    const ctx_r9 = i0.ɵɵnextContext(2);\n    const dato_r3 = ctx_r9.$implicit;\n    const i_r4 = ctx_r9.index;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(dato_r3[i_r4 + j_r8 + 1]);\n  }\n}\nconst _c0 = function () {\n  return [0, 1, 2];\n};\nfunction MenuExamenesComponent_ng_container_31_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"tr\");\n    i0.ɵɵtemplate(2, MenuExamenesComponent_ng_container_31_ng_container_1_ng_container_2_Template, 3, 1, \"ng-container\", 8);\n    i0.ɵɵelementStart(3, \"td\")(4, \"input\", 11);\n    i0.ɵɵlistener(\"ngModelChange\", function MenuExamenesComponent_ng_container_31_ng_container_1_Template_input_ngModelChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r11 = i0.ɵɵnextContext();\n      const dato_r3 = ctx_r11.$implicit;\n      const i_r4 = ctx_r11.index;\n      return i0.ɵɵresetView(dato_r3[i_r4] = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"input\", 12);\n    i0.ɵɵlistener(\"ngModelChange\", function MenuExamenesComponent_ng_container_31_ng_container_1_Template_input_ngModelChange_5_listener($event) {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r14 = i0.ɵɵnextContext();\n      const dato_r3 = ctx_r14.$implicit;\n      const i_r4 = ctx_r14.index;\n      return i0.ɵɵresetView(dato_r3[i_r4 + 2] = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"td\")(7, \"button\", 13);\n    i0.ɵɵlistener(\"click\", function MenuExamenesComponent_ng_container_31_ng_container_1_Template_button_click_7_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r16 = i0.ɵɵnextContext();\n      const dato_r3 = ctx_r16.$implicit;\n      const i_r4 = ctx_r16.index;\n      const ctx_r15 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r15.editarEspecialidad(dato_r3[i_r4], dato_r3[i_r4 + 2]));\n    });\n    i0.ɵɵtext(8, \"Guardar\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r17 = i0.ɵɵnextContext();\n    const dato_r3 = ctx_r17.$implicit;\n    const i_r4 = ctx_r17.index;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpureFunction0(3, _c0));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", dato_r3[i_r4]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", dato_r3[i_r4 + 2]);\n  }\n}\nfunction MenuExamenesComponent_ng_container_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, MenuExamenesComponent_ng_container_31_ng_container_1_Template, 9, 4, \"ng-container\", 10);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const i_r4 = ctx.index;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", i_r4 % 4 === 0);\n  }\n}\nexport class MenuExamenesComponent {\n  constructor(http, UserService) {\n    this.http = http;\n    this.UserService = UserService;\n    this.Examenes = [];\n    this.examenesAgregados = [];\n    this.inputValue = 0;\n  }\n  //cargar examenes al select y tabla:\n  ngOnInit() {\n    this.getExamenes().subscribe(examenes => {\n      this.Examenes = examenes;\n    });\n    this.getExamenesAsignados().subscribe(examenes => {\n      this.examenesAgregados = examenes;\n    });\n  }\n  //metodo para conseguir los examenes:\n  getExamenes() {\n    const url = 'http://localhost:8080/Proyecto2Clinica/ControladorExamenesLaboratorios?accion=obtenerExamenes';\n    return this.http.get(url);\n  }\n  //metodo para conseguir los examenes asignados:\n  getExamenesAsignados() {\n    const url = 'http://localhost:8080/Proyecto2Clinica/ControladorExamenesLaboratorios?accion=obtenerExamenesAsignados&IdLab=' + this.UserService.getId();\n    return this.http.get(url);\n  }\n  editarEspecialidad(id, precio) {\n    // Aquí puedes hacer lo que necesites con el id y el precio\n    const Id = id;\n    const Precio = precio;\n    const body = {\n      Precio: precio\n    };\n    this.http.put(`http://localhost:8080/Proyecto2Clinica/ControladorExamenesLaboratorios?accion=ActualizarPrecio&IdExamen=${Id}&Precio=${Precio}`, body).subscribe(response => {\n      alert('examen editado correctamente.');\n      this.ngOnInit();\n      // Actualizar la lista de especialidades agregadas\n    }, error => {\n      if (error.status === 400) {\n        alert('Error al editar el exámen: el ID ingresado no es válido.');\n      } else {\n        alert('Error al editar la exámen');\n      }\n    });\n  }\n  //metodo para enviar solicitud de un nuevo examen:\n  EnviarSolicitudExamen() {\n    const precio = this.inputValue;\n    const nombre = this.selectedOption;\n    const IdMedico = this.UserService.getId();\n    const body = {\n      Precio: precio,\n      Nombre: this.selectedOption\n    };\n    this.http.post(`http://localhost:8080/Proyecto2Clinica/ControladorExamenesLaboratorios?accion=CrearSolicitud&IdExamen=${nombre}&Precio=${precio}&IdMedico=${IdMedico}`, body).subscribe(response => {\n      alert('Solicitud enviada correctamente.');\n      this.ngOnInit();\n      // Actualizar la lista de especialidades agregadas\n    }, error => {\n      if (error.status === 400) {\n        alert('No se encontro el Examen pedido');\n      } else if (error.status === 409) {\n        alert('No puedes pedir una solicitud de un Examen con la que ya cuentas o tienes solicitud pendiente');\n      }\n    });\n  }\n}\nMenuExamenesComponent.ɵfac = function MenuExamenesComponent_Factory(t) {\n  return new (t || MenuExamenesComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.UserService));\n};\nMenuExamenesComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: MenuExamenesComponent,\n  selectors: [[\"app-menu-examenes\"]],\n  decls: 32,\n  vars: 4,\n  consts: [[\"id\", \"principal\"], [1, \"form-group\"], [\"for\", \"especialidad\"], [\"name\", \"selectedOption\", 3, \"ngModel\", \"ngModelChange\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"for\", \"precio\"], [\"type\", \"number\", \"id\", \"precio\", \"min\", \"0\", \"name\", \"inputValue\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"click\"], [4, \"ngFor\", \"ngForOf\"], [3, \"value\"], [4, \"ngIf\"], [\"type\", \"hidden\", \"name\", \"id\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"number\", \"name\", \"precio\", 1, \"Edit\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", 3, \"click\"]],\n  template: function MenuExamenesComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\");\n      i0.ɵɵtext(2, \"Enviar solicitud de nuevo Examen\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"form\")(4, \"div\", 1)(5, \"label\", 2);\n      i0.ɵɵtext(6, \"Examen\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"select\", 3);\n      i0.ɵɵlistener(\"ngModelChange\", function MenuExamenesComponent_Template_select_ngModelChange_7_listener($event) {\n        return ctx.selectedOption = $event;\n      });\n      i0.ɵɵtemplate(8, MenuExamenesComponent_option_8_Template, 2, 2, \"option\", 4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"label\", 5);\n      i0.ɵɵtext(10, \"Precio por examen:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"input\", 6);\n      i0.ɵɵlistener(\"ngModelChange\", function MenuExamenesComponent_Template_input_ngModelChange_11_listener($event) {\n        return ctx.inputValue = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"button\", 7);\n      i0.ɵɵlistener(\"click\", function MenuExamenesComponent_Template_button_click_12_listener() {\n        return ctx.EnviarSolicitudExamen();\n      });\n      i0.ɵɵtext(13, \"Agregar Examen\");\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(14, \"div\", 0)(15, \"h2\");\n      i0.ɵɵtext(16, \"Examenes Agregados\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"table\")(18, \"thead\")(19, \"tr\")(20, \"th\");\n      i0.ɵɵtext(21, \"Nombre\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"th\");\n      i0.ɵɵtext(23, \"Precio\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(24, \"th\");\n      i0.ɵɵtext(25, \"Estado\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(26, \"th\");\n      i0.ɵɵtext(27, \"Nuevo Precio\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(28, \"th\");\n      i0.ɵɵtext(29, \"Guardar\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(30, \"tbody\");\n      i0.ɵɵtemplate(31, MenuExamenesComponent_ng_container_31_Template, 2, 1, \"ng-container\", 8);\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngModel\", ctx.selectedOption);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.Examenes);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngModel\", ctx.inputValue);\n      i0.ɵɵadvance(20);\n      i0.ɵɵproperty(\"ngForOf\", ctx.examenesAgregados);\n    }\n  },\n  dependencies: [i3.NgForOf, i3.NgIf, i4.ɵNgNoValidate, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i4.DefaultValueAccessor, i4.NumberValueAccessor, i4.SelectControlValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.MinValidator, i4.NgModel, i4.NgForm],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","MenuExamenesComponent","constructor","http","UserService","ngOnInit","getExamenes","subscribe","examenes","Examenes","getExamenesAsignados","examenesAgregados","url","get","getId","editarEspecialidad","id","precio","Id","Precio","body","put","response","alert","error","status","EnviarSolicitudExamen","inputValue","nombre","selectedOption","IdMedico","Nombre","post","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\branp\\Documents\\NetBeansProjects\\Proyecto2Clinica\\src\\main\\Angular\\ProyectoMedic\\src\\app\\Componentes\\home-laboratorios\\menu-examenes\\menu-examenes.component.html","C:\\Users\\branp\\Documents\\NetBeansProjects\\Proyecto2Clinica\\src\\main\\Angular\\ProyectoMedic\\src\\app\\Componentes\\home-laboratorios\\menu-examenes\\menu-examenes.component.ts"],"sourcesContent":["<div id=\"principal\">\r\n    <h2>Enviar solicitud de nuevo Examen</h2>\r\n    <form>\r\n      <div class=\"form-group\">\r\n        <label for=\"especialidad\">Examen</label>\r\n        <select name=\"selectedOption\" [(ngModel)]=\"selectedOption\">\r\n          <option *ngFor=\"let Examenes of Examenes\" [value]=\"Examenes.idTipoDeExamenes\">{{Examenes.nombreExamen}}</option>\r\n        </select>\r\n        <label for=\"precio\">Precio por examen:</label>\r\n        <input type=\"number\" class=\"form-control \" id=\"precio\" min=\"0\" name=\"inputValue\" [(ngModel)]=\"inputValue\">\r\n        <button type=\"submit\" class=\"btn btn-primary\" (click)=\"EnviarSolicitudExamen()\">Agregar Examen</button>\r\n      </div>\r\n    </form>\r\n</div>\r\n<div id=\"principal\">\r\n  <h2>Examenes Agregados</h2>\r\n  <table>\r\n    <thead>\r\n      <tr>\r\n        <th>Nombre</th>\r\n        <th>Precio</th>\r\n        <th>Estado</th>\r\n        <th>Nuevo Precio</th>\r\n        <th>Guardar</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n        <ng-container *ngFor=\"let dato of examenesAgregados; let i = index;\">\r\n            <ng-container *ngIf=\"i % 4 === 0\">\r\n              <tr>\r\n                <ng-container *ngFor=\"let columna of [0, 1, 2]; let j = index;\">\r\n                  <td>{{ dato[i+j+1] }}</td>\r\n                </ng-container>\r\n                <td>\r\n                  <input type=\"hidden\" [(ngModel)]=\"dato[i]\" name=\"id\">\r\n                  <input class=\"Edit\" type=\"number\" [(ngModel)]=\"dato[i+2]\" name=\"precio\">\r\n                </td>\r\n                <td>\r\n                  <button type=\"button\" class=\"btn btn-primary\" (click)=\"editarEspecialidad(dato[i], dato[i+2])\">Guardar</button>\r\n                </td>\r\n              </tr>\r\n            </ng-container>\r\n          </ng-container>\r\n    </tbody>\r\n  </table>\r\n</div>","import { Component } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { UserService } from '../../../../Services/user';\n@Component({\n  selector: 'app-menu-examenes',\n  templateUrl: './menu-examenes.component.html',\n  styleUrls: ['./menu-examenes.component.css']\n})\nexport class MenuExamenesComponent {\n  Examenes: any[] = [];\n  examenesAgregados: any[] = [];\n  selectedOption: any;\n  inputValue: number = 0;\n  constructor(private http: HttpClient , private UserService: UserService  ) { }\n  //cargar examenes al select y tabla:\n  ngOnInit() : void  {\n    this.getExamenes().subscribe(examenes => {\n      this.Examenes = examenes;\n    })\n    this.getExamenesAsignados().subscribe(examenes => {\n      this.examenesAgregados = examenes;\n    })\n  }\n  //metodo para conseguir los examenes:\n  getExamenes() {\n    const url = 'http://localhost:8080/Proyecto2Clinica/ControladorExamenesLaboratorios?accion=obtenerExamenes';\n    return this.http.get<any[]>(url);\n  }\n  //metodo para conseguir los examenes asignados:\n  getExamenesAsignados() {\n    const url = 'http://localhost:8080/Proyecto2Clinica/ControladorExamenesLaboratorios?accion=obtenerExamenesAsignados&IdLab='+this.UserService.getId();\n    return this.http.get<any[]>(url);\n  }\n  editarEspecialidad(id: string, precio: string) {\n    // Aquí puedes hacer lo que necesites con el id y el precio\n    const Id = id;\n    const Precio = precio;\n    const body = { Precio: precio };\n    this.http.put(`http://localhost:8080/Proyecto2Clinica/ControladorExamenesLaboratorios?accion=ActualizarPrecio&IdExamen=${Id}&Precio=${Precio}`, body).subscribe(\n      response => {\n        alert('examen editado correctamente.');\n        this.ngOnInit();\n        // Actualizar la lista de especialidades agregadas\n      },\n      error => {\n        if (error.status === 400) {\n          alert('Error al editar el exámen: el ID ingresado no es válido.');\n        } else {\n          alert('Error al editar la exámen');\n        }\n      }\n    );\n  }\n\n  //metodo para enviar solicitud de un nuevo examen:\n  EnviarSolicitudExamen(){\n    const precio = this.inputValue;\n    const nombre = this.selectedOption;\n    const IdMedico = this.UserService.getId();\n    const body = { Precio: precio, Nombre: this.selectedOption};\n    this.http.post(`http://localhost:8080/Proyecto2Clinica/ControladorExamenesLaboratorios?accion=CrearSolicitud&IdExamen=${nombre}&Precio=${precio}&IdMedico=${IdMedico}`, body).subscribe(\n      response => {\n        alert('Solicitud enviada correctamente.');\n        this.ngOnInit();\n        // Actualizar la lista de especialidades agregadas\n      },\n      error => {\n        if (error.status === 400) {\n          alert('No se encontro el Examen pedido');\n        } else if(error.status === 409) {\n          alert('No puedes pedir una solicitud de un Examen con la que ya cuentas o tienes solicitud pendiente');\n        }\n      }\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}