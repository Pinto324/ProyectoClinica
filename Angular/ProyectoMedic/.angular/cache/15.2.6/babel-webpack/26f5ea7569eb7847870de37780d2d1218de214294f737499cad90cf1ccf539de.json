{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"../../../Services/user\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"./registrar-usuario/registrar-usuario.component\";\nfunction LoginComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 2)(1, \"h1\");\n    i0.ɵɵtext(2, \"Login\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"form\", 3);\n    i0.ɵɵlistener(\"submit\", function LoginComponent_div_0_Template_form_submit_3_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const _r2 = i0.ɵɵreference(7);\n      const _r3 = i0.ɵɵreference(11);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.login(_r2.value, _r3.value));\n    });\n    i0.ɵɵelementStart(4, \"label\", 4);\n    i0.ɵɵtext(5, \"Username:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(6, \"input\", 5, 6);\n    i0.ɵɵelementStart(8, \"label\", 7);\n    i0.ɵɵtext(9, \"Password:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(10, \"input\", 8, 9);\n    i0.ɵɵelementStart(12, \"div\", 10)(13, \"button\", 11);\n    i0.ɵɵtext(14, \"Login\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function LoginComponent_div_0_Template_button_click_15_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.goToRegister());\n    });\n    i0.ɵɵtext(16, \"Register\");\n    i0.ɵɵelementEnd()()()();\n  }\n}\nfunction LoginComponent_app_registrar_usuario_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-registrar-usuario\");\n  }\n}\nexport class LoginComponent {\n  constructor(http, UserService, router) {\n    this.http = http;\n    this.UserService = UserService;\n    this.router = router;\n    this.username = \"\";\n    this.password = \"\";\n    this.errorMessage = \"\";\n    this.Login = true;\n    this.Registrar = false;\n  }\n  login(username, password) {\n    const url = 'http://localhost:8080/Proyecto2Clinica/ControladorLogin';\n    const body = new URLSearchParams();\n    body.set('username', username);\n    body.set('password', password);\n    const options = {\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      }\n    };\n    this.http.post(url, body.toString(), options).subscribe(response => {\n      if (response.valid) {\n        this.UserService.setUser(response.username, response.id, response.tipo);\n        switch (response.tipo) {\n          case \"Medico\":\n            this.router.navigate(['/home-medico']);\n            break;\n          case \"Admin\":\n            this.router.navigate(['/home-admin']);\n            break;\n          case \"Laboratorio\":\n            this.router.navigate(['/home-laboratorios']);\n            break;\n          case \"Paciente\":\n            this.router.navigate(['/home-Paciente']);\n            break;\n          default:\n            break;\n        }\n      } else {\n        alert('Nombre de usuario o contraseña incorrectos.');\n      }\n    }, error => {\n      // Si ocurre un error al enviar la solicitud, mostrar un mensaje de error\n      console.error(error);\n      this.errorMessage = 'Ocurrió un error al iniciar sesión. Por favor, inténtalo de nuevo más tarde.';\n    });\n  }\n  goToRegister() {\n    this.Login = false;\n    this.Registrar = true;\n  }\n}\nLoginComponent.ɵfac = function LoginComponent_Factory(t) {\n  return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.UserService), i0.ɵɵdirectiveInject(i3.Router));\n};\nLoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LoginComponent,\n  selectors: [[\"app-login\"]],\n  decls: 2,\n  vars: 2,\n  consts: [[\"class\", \"login-container\", 4, \"ngIf\"], [4, \"ngIf\"], [1, \"login-container\"], [\"method\", \"post\", 3, \"submit\"], [\"for\", \"username\"], [\"type\", \"text\", \"id\", \"username\", \"name\", \"username\", \"ngModel\", \"\", \"required\", \"\"], [\"username\", \"\"], [\"for\", \"password\"], [\"type\", \"password\", \"id\", \"password\", \"name\", \"password\", \"ngModel\", \"\", \"required\", \"\"], [\"password\", \"\"], [1, \"buttons-container\"], [\"type\", \"submit\", 1, \"login-button\"], [\"type\", \"button\", 1, \"register-button\", 3, \"click\"]],\n  template: function LoginComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, LoginComponent_div_0_Template, 17, 0, \"div\", 0);\n      i0.ɵɵtemplate(1, LoginComponent_app_registrar_usuario_1_Template, 1, 0, \"app-registrar-usuario\", 1);\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.Login);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.Registrar);\n    }\n  },\n  dependencies: [i4.NgIf, i5.ɵNgNoValidate, i5.DefaultValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.RequiredValidator, i5.NgModel, i5.NgForm, i6.RegistrarUsuarioComponent],\n  styles: [\".login-container[_ngcontent-%COMP%] {\\r\\n  display: flex;\\r\\n  flex-direction: column;\\r\\n  align-items: center;\\r\\n  margin-top: 50px;\\r\\n}\\r\\n\\r\\nh1[_ngcontent-%COMP%] {\\r\\n  font-size: 2em;\\r\\n  margin-bottom: 20px;\\r\\n}\\r\\n\\r\\nform[_ngcontent-%COMP%] {\\r\\n  display: flex;\\r\\n  flex-direction: column;\\r\\n  align-items: center;\\r\\n  border: 1px solid #ccc;\\r\\n  padding: 20px;\\r\\n  border-radius: 5px;\\r\\n}\\r\\n\\r\\nlabel[_ngcontent-%COMP%] {\\r\\n  font-size: 1.2em;\\r\\n  margin-bottom: 10px;\\r\\n}\\r\\n\\r\\ninput[type=\\\"text\\\"][_ngcontent-%COMP%], input[type=\\\"password\\\"][_ngcontent-%COMP%] {\\r\\n  padding: 10px;\\r\\n  margin-bottom: 20px;\\r\\n  width: 100%;\\r\\n  border: 1px solid #ccc;\\r\\n  border-radius: 5px;\\r\\n}\\r\\n\\r\\n.buttons-container[_ngcontent-%COMP%] {\\r\\n  display: flex;\\r\\n  justify-content: space-between;\\r\\n  width: 100%;\\r\\n}\\r\\n\\r\\nbutton[_ngcontent-%COMP%] {\\r\\n  padding: 10px 20px;\\r\\n  border: none;\\r\\n  border-radius: 5px;\\r\\n  color: #fff;\\r\\n  cursor: pointer;\\r\\n  transition: all 0.3s ease;\\r\\n}\\r\\n\\r\\nbutton.login-button[_ngcontent-%COMP%] {\\r\\n  background-color: #007bff;\\r\\n}\\r\\n\\r\\nbutton.login-button[_ngcontent-%COMP%]:hover {\\r\\n  background-color: #0069d9;\\r\\n}\\r\\n\\r\\nbutton.register-button[_ngcontent-%COMP%] {\\r\\n  background-color: #28a745;\\r\\n}\\r\\n\\r\\nbutton.register-button[_ngcontent-%COMP%]:hover {\\r\\n  background-color: #218838;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvQ29tcG9uZW50ZXMvbG9naW4vbG9naW4uY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGFBQWE7RUFDYixzQkFBc0I7RUFDdEIsbUJBQW1CO0VBQ25CLGdCQUFnQjtBQUNsQjs7QUFFQTtFQUNFLGNBQWM7RUFDZCxtQkFBbUI7QUFDckI7O0FBRUE7RUFDRSxhQUFhO0VBQ2Isc0JBQXNCO0VBQ3RCLG1CQUFtQjtFQUNuQixzQkFBc0I7RUFDdEIsYUFBYTtFQUNiLGtCQUFrQjtBQUNwQjs7QUFFQTtFQUNFLGdCQUFnQjtFQUNoQixtQkFBbUI7QUFDckI7O0FBRUE7O0VBRUUsYUFBYTtFQUNiLG1CQUFtQjtFQUNuQixXQUFXO0VBQ1gsc0JBQXNCO0VBQ3RCLGtCQUFrQjtBQUNwQjs7QUFFQTtFQUNFLGFBQWE7RUFDYiw4QkFBOEI7RUFDOUIsV0FBVztBQUNiOztBQUVBO0VBQ0Usa0JBQWtCO0VBQ2xCLFlBQVk7RUFDWixrQkFBa0I7RUFDbEIsV0FBVztFQUNYLGVBQWU7RUFDZix5QkFBeUI7QUFDM0I7O0FBRUE7RUFDRSx5QkFBeUI7QUFDM0I7O0FBRUE7RUFDRSx5QkFBeUI7QUFDM0I7O0FBRUE7RUFDRSx5QkFBeUI7QUFDM0I7O0FBRUE7RUFDRSx5QkFBeUI7QUFDM0IiLCJzb3VyY2VzQ29udGVudCI6WyIubG9naW4tY29udGFpbmVyIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICBtYXJnaW4tdG9wOiA1MHB4O1xyXG59XHJcblxyXG5oMSB7XHJcbiAgZm9udC1zaXplOiAyZW07XHJcbiAgbWFyZ2luLWJvdHRvbTogMjBweDtcclxufVxyXG5cclxuZm9ybSB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgYm9yZGVyOiAxcHggc29saWQgI2NjYztcclxuICBwYWRkaW5nOiAyMHB4O1xyXG4gIGJvcmRlci1yYWRpdXM6IDVweDtcclxufVxyXG5cclxubGFiZWwge1xyXG4gIGZvbnQtc2l6ZTogMS4yZW07XHJcbiAgbWFyZ2luLWJvdHRvbTogMTBweDtcclxufVxyXG5cclxuaW5wdXRbdHlwZT1cInRleHRcIl0sXHJcbmlucHV0W3R5cGU9XCJwYXNzd29yZFwiXSB7XHJcbiAgcGFkZGluZzogMTBweDtcclxuICBtYXJnaW4tYm90dG9tOiAyMHB4O1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XHJcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG59XHJcblxyXG4uYnV0dG9ucy1jb250YWluZXIge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xyXG4gIHdpZHRoOiAxMDAlO1xyXG59XHJcblxyXG5idXR0b24ge1xyXG4gIHBhZGRpbmc6IDEwcHggMjBweDtcclxuICBib3JkZXI6IG5vbmU7XHJcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG4gIGNvbG9yOiAjZmZmO1xyXG4gIGN1cnNvcjogcG9pbnRlcjtcclxuICB0cmFuc2l0aW9uOiBhbGwgMC4zcyBlYXNlO1xyXG59XHJcblxyXG5idXR0b24ubG9naW4tYnV0dG9uIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDA3YmZmO1xyXG59XHJcblxyXG5idXR0b24ubG9naW4tYnV0dG9uOmhvdmVyIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDA2OWQ5O1xyXG59XHJcblxyXG5idXR0b24ucmVnaXN0ZXItYnV0dG9uIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjhhNzQ1O1xyXG59XHJcblxyXG5idXR0b24ucmVnaXN0ZXItYnV0dG9uOmhvdmVyIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjE4ODM4O1xyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":";;;;;;;;;;IAAAA,8BAA2C;IACrCA,qBAAK;IAAAA,iBAAK;IACdA,+BAAqE;IAAjDA;MAAAA;MAAA;MAAA;MAAA;MAAA,OAAUA,iDAAqC;IAAA,EAAC;IAClEA,gCAAsB;IAAAA,yBAAS;IAAAA,iBAAQ;IACvCA,8BAA4E;IAE5EA,gCAAsB;IAAAA,yBAAS;IAAAA,iBAAQ;IACvCA,+BAAgF;IAEhFA,gCAA+B;IACcA,sBAAK;IAAAA,iBAAS;IACzDA,mCAAuE;IAAzBA;MAAAA;MAAA;MAAA,OAASA,oCAAc;IAAA,EAAC;IAACA,yBAAQ;IAAAA,iBAAS;;;;;IAI9FA,wCAAiE;;;ACJjE,OAAM,MAAOC,cAAc;EAMzBC,YAAoBC,IAAgB,EAAUC,WAAwB,EAAWC,MAAc;IAA3E,SAAI,GAAJF,IAAI;IAAsB,gBAAW,GAAXC,WAAW;IAAwB,WAAM,GAANC,MAAM;IALvF,aAAQ,GAAW,EAAE;IACrB,aAAQ,GAAW,EAAE;IACrB,iBAAY,GAAU,EAAE;IACxB,UAAK,GAAG,IAAI;IACZ,cAAS,GAAG,KAAK;EACkF;EAEnGC,KAAK,CAACC,QAAgB,EAAEC,QAAgB;IACtC,MAAMC,GAAG,GAAG,yDAAyD;IACrE,MAAMC,IAAI,GAAG,IAAIC,eAAe,EAAE;IAClCD,IAAI,CAACE,GAAG,CAAC,UAAU,EAAEL,QAAQ,CAAC;IAC9BG,IAAI,CAACE,GAAG,CAAC,UAAU,EAAEJ,QAAQ,CAAC;IAC9B,MAAMK,OAAO,GAAG;MACdC,OAAO,EAAE;QACP,cAAc,EAAE;;KAEnB;IACD,IAAI,CAACX,IAAI,CAACY,IAAI,CAACN,GAAG,EAAEC,IAAI,CAACM,QAAQ,EAAE,EAAEH,OAAO,CAAC,CAACI,SAAS,CACpDC,QAAa,IAAI;MAChB,IAAIA,QAAQ,CAACC,KAAK,EAAE;QAClB,IAAI,CAACf,WAAW,CAACgB,OAAO,CAACF,QAAQ,CAACX,QAAQ,EAAEW,QAAQ,CAACG,EAAE,EAAEH,QAAQ,CAACI,IAAI,CAAC;QACvE,QAAOJ,QAAQ,CAACI,IAAI;UAClB,KAAK,QAAQ;YACT,IAAI,CAACjB,MAAM,CAACkB,QAAQ,CAAC,CAAC,cAAc,CAAC,CAAC;YACxC;UACF,KAAK,OAAO;YACR,IAAI,CAAClB,MAAM,CAACkB,QAAQ,CAAC,CAAC,aAAa,CAAC,CAAC;YACrC;UACJ,KAAK,aAAa;YAChB,IAAI,CAAClB,MAAM,CAACkB,QAAQ,CAAC,CAAC,oBAAoB,CAAC,CAAC;YAC5C;UACF,KAAK,UAAU;YACb,IAAI,CAAClB,MAAM,CAACkB,QAAQ,CAAC,CAAC,gBAAgB,CAAC,CAAC;YACxC;UACF;YACE;QAAM;OAEX,MAAM;QACLC,KAAK,CAAC,6CAA6C,CAAC;;IAExD,CAAC,EACAC,KAAK,IAAI;MACR;MACAC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;MACpB,IAAI,CAACE,YAAY,GAAG,8EAA8E;IACpG,CAAC,CACF;EACH;EAEAC,YAAY;IACV,IAAI,CAACC,KAAK,GAAG,KAAK;IAClB,IAAI,CAACC,SAAS,GAAG,IAAI;EACvB;;AArDW7B,cAAc;mBAAdA,cAAc;AAAA;AAAdA,cAAc;QAAdA,cAAc;EAAA8B;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDX3BnC,gEAcM;MACNA,mGAAiE;;;MAf3DA,gCAAW;MAeOA,eAAe;MAAfA,oCAAe","names":["i0","LoginComponent","constructor","http","UserService","router","login","username","password","url","body","URLSearchParams","set","options","headers","post","toString","subscribe","response","valid","setUser","id","tipo","navigate","alert","error","console","errorMessage","goToRegister","Login","Registrar","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\branp\\Documents\\NetBeansProjects\\Proyecto2Clinica\\Angular\\ProyectoMedic\\src\\app\\Componentes\\login\\login.component.html","C:\\Users\\branp\\Documents\\NetBeansProjects\\Proyecto2Clinica\\Angular\\ProyectoMedic\\src\\app\\Componentes\\login\\login.component.ts"],"sourcesContent":["<div *ngIf=\"Login\" class=\"login-container\">\n  <h1>Login</h1>\n  <form method=\"post\" (submit)=\"login(username.value, password.value)\"> \n    <label for=\"username\">Username:</label>\n    <input type=\"text\" id=\"username\" name=\"username\" #username ngModel required>\n\n    <label for=\"password\">Password:</label>\n    <input type=\"password\" id=\"password\" name=\"password\" #password ngModel required>\n\n    <div class=\"buttons-container\">\n      <button type=\"submit\" class=\"login-button\">Login</button>\n      <button type=\"button\" class=\"register-button\" (click)=\"goToRegister()\">Register</button>\n    </div>\n  </form>\n</div>\n<app-registrar-usuario *ngIf=\"Registrar\"></app-registrar-usuario>\n","import { Component } from '@angular/core';\nimport { HttpClient, HttpHeaders  } from '@angular/common/http';\nimport { Router } from '@angular/router';\nimport { UserService } from '../../../Services/user';\nimport { HomeLaboratoriosComponent } from '../home-laboratorios/home-laboratorios.component';\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})\n\nexport class LoginComponent {\n  username: string = \"\";\n  password: string = \"\";\n  errorMessage: string =\"\";\n  Login = true;\n  Registrar = false;\n  constructor(private http: HttpClient, private UserService: UserService  ,private router: Router) { }\n\n  login(username: string, password: string) {\n    const url = 'http://localhost:8080/Proyecto2Clinica/ControladorLogin';\n    const body = new URLSearchParams();\n    body.set('username', username);\n    body.set('password', password);\n    const options = {\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      }\n    };\n    this.http.post(url, body.toString(), options).subscribe(\n      (response: any) => {\n        if (response.valid) {\n          this.UserService.setUser(response.username, response.id, response.tipo);\n          switch(response.tipo){\n            case \"Medico\":\n                this.router.navigate(['/home-medico']);\n              break;\n            case \"Admin\":\n                this.router.navigate(['/home-admin']);\n                break;\n            case \"Laboratorio\":\n              this.router.navigate(['/home-laboratorios']);\n              break;\n            case \"Paciente\":\n              this.router.navigate(['/home-Paciente']);\n              break;\n            default:\n              break;\n          }  \n        } else {\n          alert('Nombre de usuario o contraseña incorrectos.');\n        }\n      },\n      (error) => {\n        // Si ocurre un error al enviar la solicitud, mostrar un mensaje de error\n        console.error(error);\n        this.errorMessage = 'Ocurrió un error al iniciar sesión. Por favor, inténtalo de nuevo más tarde.';\n      }\n    );\n  }\n\n  goToRegister(){\n    this.Login = false;\n    this.Registrar = true;\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}